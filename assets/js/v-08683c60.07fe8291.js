"use strict";(self.webpackChunknode_red_contrib_power_saver=self.webpackChunknode_red_contrib_power_saver||[]).push([[332],{5845:(e,t,i)=>{i.r(t),i.d(t,{data:()=>a});const a={key:"v-08683c60",path:"/nodes/ps-elvia-add-tariff.html",title:"ps-elvia-add-tariff",lang:"en-US",frontmatter:{},excerpt:"",headers:[{level:2,title:"Description",slug:"description",children:[]},{level:2,title:"Configuration",slug:"configuration",children:[]},{level:2,title:"Input",slug:"input",children:[]},{level:2,title:"Output",slug:"output",children:[]}],filePathRelative:"nodes/ps-elvia-add-tariff.md",git:{updatedTime:1639315027e3,contributors:[{name:"Otto Paulsen",email:"ottpau@gmail.com",commits:1}]}}},6250:(e,t,i)=>{i.r(t),i.d(t,{default:()=>H});var a=i(6252),n=i(5824),o=i(2101),r=i(223),s=i(9858),l=i(6473),u=i(5307);const d=(0,a._)("h1",{id:"ps-elvia-add-tariff",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#ps-elvia-add-tariff","aria-hidden":"true"},"#"),(0,a.Uk)(" ps-elvia-add-tariff")],-1),p=(0,a._)("p",null,[(0,a._)("img",{src:n,alt:"ps-elvia-add-tariff"})],-1),c=(0,a._)("p",null,"Node to add grid tariff from Elvia.",-1),f=(0,a._)("div",{class:"custom-container warning"},[(0,a._)("p",{class:"custom-container-title"},"Elvia API"),(0,a._)("p",null,[(0,a.Uk)("You need an Elvia API subscription key to use this node. See "),(0,a._)("a",{href:"#elvia-configuration"},"configuration"),(0,a.Uk)(".")])],-1),h=(0,a._)("h2",{id:"description",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#description","aria-hidden":"true"},"#"),(0,a.Uk)(" Description")],-1),g=(0,a._)("p",null,[(0,a.Uk)("When grid tariff changes from hour to hour, this should normally also be considered when finding the most favorable hours to use power. This node retrieves prices from Elvia, so if you are an elvia customer, you can put this node between the "),(0,a._)("code",null,"ps-receive-price"),(0,a.Uk)(" node and the strategy nodes. When configured, it will add Elvia tariff to the power prices before doing the calculation:")],-1),_=(0,a._)("p",null,[(0,a._)("img",{src:o,alt:"Elvia flow"})],-1),v=(0,a._)("h2",{id:"configuration",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#configuration","aria-hidden":"true"},"#"),(0,a.Uk)(" Configuration")],-1),m={class:"custom-container warning"},b=(0,a._)("p",{class:"custom-container-title"},"Elvia API subscription key",-1),k=(0,a.Uk)("This node uses the Elvia API, and you must get your own Elvia API subscription key in order to use it. Go to the "),y={href:"https://elvia.portal.azure-api.net/",target:"_blank",rel:"noopener noreferrer"},U=(0,a.Uk)("Elvia Developer Portal"),w=(0,a.Uk)(" to sign up, and then request for a subscription to the GridTariffAPI. When your subscription is approved, you will find your subscription key in the "),E={href:"https://elvia.portal.azure-api.net/developer",target:"_blank",rel:"noopener noreferrer"},x=(0,a.Uk)("developer portal"),P=(0,a.Uk)(" under Your subscriptions."),I=(0,a._)("p",null,[(0,a.Uk)("The first time you use this node, you must create a "),(0,a._)("code",null,"ps-elvia-config"),(0,a.Uk)(" entry. Click on the edit button to the right of Elvia Config:")],-1),T=(0,a._)("p",null,[(0,a._)("img",{src:r,alt:"Elvia configuration"})],-1),A=(0,a._)("p",null,"Then enter the Elvia API subscription key:",-1),W=(0,a._)("p",null,[(0,a._)("img",{src:s,alt:"Elvia configuration"})],-1),C=(0,a._)("p",null,"After entering the Elvia API subscription key the first time, it is not possible to select tariff.",-1),O=(0,a._)("p",null,[(0,a._)("img",{src:l,alt:"Elvia configuration"})],-1),D=(0,a._)("p",null,"To fix that, save the config, deploy, and then open the node again. Now you should be able to select the right tariff:",-1),Y=(0,a._)("p",null,[(0,a._)("img",{src:u,alt:"Elvia configuration"})],-1),z=(0,a._)("p",null,"The next time you use this node, you can select the same config as you created the first time, and then you can also select tariff immediately.",-1),G=(0,a._)("h2",{id:"input",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#input","aria-hidden":"true"},"#"),(0,a.Uk)(" Input")],-1),L=(0,a.Uk)("The input is the "),N=(0,a.Uk)("common strategy input format"),R=(0,a._)("h2",{id:"output",tabindex:"-1"},[(0,a._)("a",{class:"header-anchor",href:"#output","aria-hidden":"true"},"#"),(0,a.Uk)(" Output")],-1),S=(0,a.Uk)("The input is the "),Z=(0,a.Uk)("common strategy input format"),q={},H=(0,i(3744).Z)(q,[["render",function(e,t){const i=(0,a.up)("OutboundLink"),n=(0,a.up)("RouterLink");return(0,a.wg)(),(0,a.iD)(a.HY,null,[d,p,c,f,h,g,_,v,(0,a._)("div",m,[b,(0,a._)("p",null,[k,(0,a._)("a",y,[U,(0,a.Wm)(i)]),w,(0,a._)("a",E,[x,(0,a.Wm)(i)]),P])]),I,T,A,W,C,O,D,Y,z,G,(0,a._)("p",null,[L,(0,a.Wm)(n,{to:"/nodes/strategy-input.html"},{default:(0,a.w5)((()=>[N])),_:1})]),R,(0,a._)("p",null,[S,(0,a.Wm)(n,{to:"/nodes/strategy-input.html"},{default:(0,a.w5)((()=>[Z])),_:1})])],64)}]])},3744:(e,t)=>{t.Z=(e,t)=>{const i=e.__vccOpts||e;for(const[e,a]of t)i[e]=a;return i}},223:(e,t,i)=>{e.exports=i.p+"assets/img/elvia-config-no-config.b4bb972c.png"},6473:(e,t,i)=>{e.exports=i.p+"assets/img/elvia-config-no-tariff.3f89aba8.png"},5307:(e,t,i)=>{e.exports=i.p+"assets/img/elvia-config-select-tariff.0f73fd56.png"},9858:(e,t,i)=>{e.exports=i.p+"assets/img/elvia-config-subscription-key.8be8ab8a.png"},2101:(e,t,i)=>{e.exports=i.p+"assets/img/elvia-flow.bae2a4d5.png"},5824:(e,t,i)=>{e.exports=i.p+"assets/img/node-ps-elvia-add-tariff.94ea2b09.png"}}]);